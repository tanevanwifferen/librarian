DATABASE_URL=postgres://postgres:postgres@localhost:5432/pdflibrary
OPENAI_API_KEY=sk-...
PDF_LIBRARY_DIR=/absolute/path/to/pdfs
PYTHON_BIN=python3
OPENAI_EMBED_MODEL=text-embedding-3-small
OPENAI_CHAT_MODEL=gpt-4o
INDEX_CONCURRENCY=1
PORT=3000

# Background scanning config
# SCAN_INTERVAL_MS: interval between automatic scan attempts (default 3600000 = 1 hour)
# STATUS_LATEST_BOOKS_LIMIT: number of latest books to include in status responses
SCAN_INTERVAL_MS=3600000
STATUS_LATEST_BOOKS_LIMIT=10

# Python interpreter selection for markitdown
# Precedence: PYTHON_BIN > VENV_DIR > python3 > python
# PYTHON_BIN: absolute path to a Python interpreter. If set, used exactly.
# Example:
# PYTHON_BIN=/usr/local/bin/python3
# VENV_DIR: absolute or project-relative venv directory.
# POSIX resolves to <VENV_DIR>/bin/python3 or <VENV_DIR>/bin/python
# Windows resolves to <VENV_DIR>\Scripts\python.exe
# Example:
# VENV_DIR=.venv
# Resource guardrails for low-RAM systems
# Maximum Markdown bytes captured from PDF→Markdown step (default in code: 20MB)
MARKITDOWN_MAX_BYTES=20971520
# Timeout for PDF→Markdown conversion (default: 300000 ms = 5 minutes)
MARKITDOWN_TIMEOUT_MS=300000
# Batch size for embeddings per transaction (default: 32)
EMBED_BATCH_SIZE=32
# Batch size for inserts per transaction (currently unused, reserved; default: 64)
INSERT_BATCH_SIZE=64